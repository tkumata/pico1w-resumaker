# 要件定義書 (REQUIREMENTS)

## 概要

ユーザーが Pico1W Resumaker の Wi-Fi アクセスポイント (AP) に接続した際、自動的に Web ブラウザが起動し、履歴書ページ (トップページ) が表示されるようにする（キャプティブポータル機能）。

## 目的

- ユーザー体験の向上: IP アドレス (192.168.4.1) の手動入力を不要にする。
- アクセシビリティの確保: QR コードを読み取れない、または読み取り機能がないデバイスでも、Wi-Fi 接続だけで履歴書を閲覧可能にする。

## 機能要件

### 1. DNS ハイジャック (DNS Spoofing)

- デバイスからのあらゆるドメイン名解決要求 (DNS Query) に対して、Pico W 自身の IP アドレス (例: 192.168.4.1) を返すこと。
- これにより、OS の接続確認機能が特定のドメイン（例: `google.com` や `apple.com`）にアクセスしようとした際、強制的に Pico W の Web サーバーへ誘導する。

### 2. HTTP リダイレクト / キャプティブポータル検知対応

- OS ごとの接続確認用 URL へのアクセスを適切に処理し、トップページ (`/`) へ誘導すること。
- iOS, Android, Windows などの主要 OS の挙動に対応すること。
- 未知のパスへのアクセスや、IP アドレス以外（任意のドメイン名）でのアクセスがあった場合、トップページへリダイレクトすること。

### 3. パフォーマンス要件

- キャプティブポータルの判定処理が、通常の Web サーバーの応答速度やメモリ使用量に大きな悪影響を与えないこと。
